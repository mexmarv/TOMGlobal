/* 
 *  Defines for TOM VentMex Ventilator
 *  V 2.0
 *  Arduino Mega 2560 + VentMex Shield
 */

#define MODEL "TOM VentMex Shield"
#define VERSION                   2.1
#define RADIUS_SENS_HOSE          0.005
#define SENSOR_TIMER              100
#define ALARM_TIMER               500

#define EN                        4 // Enable Motor PIN
#define DIR                       5 // Direction Motor PIN
#define STEP                      6 // Step Motor Pin
#define BUZZ                      7 // Buzzer
#define VENTILATOR                8 // On Off Motors
#define ENDSTOP                   9 // EndStop Motor PIN
#define BUTTON_SELECT             10 // Select S1 VentMex
#define BUTTON_MOVE               11 // Move S2 VentMex

#define PRESSURE                  A0
#define FLOW                      A1
#define OXY                       A2
#define RATE                      A3
#define IE                        A4
#define TD                        A5

// Sensor Values and Consts : Ing. Rico
#define Amin            0
#define Amax            1023
#define Aoff            54
#define Afss            941
#define Popmin          0
#define Popmax          612
#define Soffset         54.219

// Varies vs Sensor Flow
#define K               1 // Calcular K de Sensor
#define logo_width      128
#define logo_height     32

// Alarms
int  alarma_status;
#define ALARMA_OFF      0
#define ALARMA_RAPID    1
#define ALARMA_LENTA    2
#include <U8g2lib.h>   //u8g2 OLED Library

static const unsigned char logo[] U8X8_PROGMEM = {
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x3e,0x00,0x00,0x00,0x00,0x00,0xff,0xbf,
 0xff,0x1f,0x00,0xf8,0x0f,0x00,0x00,0x80,0xff,0x00,0x00,0x00,
 0x00,0x00,0xff,0xbf,0xff,0x1f,0x00,0xfe,0x3f,0x00,0x00,0xe0,
 0xff,0x03,0x00,0x00,0x00,0x00,0xfe,0xbf,0xff,0x0f,0x80,0xff,
 0xff,0x00,0x00,0xf0,0xff,0x0f,0x00,0x00,0x00,0x00,0xfc,0xbf,
 0xff,0x0f,0xc0,0xff,0xff,0x01,0x00,0xfc,0xff,0x3f,0x00,0x00,
 0x00,0x00,0xfc,0xbf,0xff,0x07,0xe0,0xff,0xff,0x03,0x00,0xff,
 0xff,0x7f,0x00,0x00,0x00,0x00,0xf8,0xbf,0xff,0x07,0xf0,0xff,
 0xff,0x07,0x80,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0xf8,0xbf,
 0xff,0x03,0xf0,0x3f,0xfe,0x07,0x00,0xfe,0xff,0x7f,0x00,0x00,
 0x00,0x00,0xf0,0xbf,0xff,0x01,0xf8,0x0f,0xf8,0x0f,0xc0,0xf8,
 0xff,0x1f,0x01,0x00,0x00,0x00,0xe0,0xbf,0xff,0x01,0xf8,0xc7,
 0xf1,0x0f,0xc0,0xe1,0xff,0xc7,0x01,0x00,0x00,0x00,0xe0,0xbf,
 0xff,0x00,0xfc,0xf3,0xe7,0x1f,0xc0,0x87,0xff,0xf1,0x01,0x00,
 0x00,0x00,0xe0,0xbf,0xff,0x00,0xfc,0xf9,0xcf,0x1f,0xc0,0x1f,
 0x7e,0xfc,0x01,0x00,0x00,0x00,0xc0,0xbf,0x7f,0x00,0xfc,0xf9,
 0xcf,0x1f,0xc0,0x7f,0x18,0xff,0x01,0x00,0x00,0x00,0x80,0xbf,
 0x7f,0x00,0xfc,0xf9,0xcf,0x1f,0xc0,0xff,0x81,0xff,0x01,0x00,
 0x00,0x00,0x80,0xbf,0x3f,0x00,0xfc,0xf9,0xcf,0x1f,0xc0,0xff,
 0xe7,0xff,0x01,0x00,0x00,0x00,0x00,0xbf,0x1f,0x00,0xfc,0xf9,
 0xcf,0x1f,0xc0,0xff,0xff,0xff,0x01,0x00,0x00,0x00,0x00,0xbf,
 0x1f,0x00,0xfc,0xf9,0xcf,0x1f,0xc0,0xff,0xff,0xff,0x01,0x00,
 0x00,0x00,0x00,0xbe,0x0f,0x00,0xfc,0xf3,0xe7,0x1f,0xc0,0xff,
 0xff,0xff,0x01,0x00,0x00,0x00,0x00,0xbc,0x0f,0x00,0xfc,0xc7,
 0xf1,0x1f,0xc0,0xff,0xff,0xff,0x01,0x00,0x00,0x00,0x00,0xbc,
 0x07,0x00,0xf8,0x0f,0xf8,0x0f,0xc0,0xff,0xff,0xff,0x01,0x00,
 0x00,0x00,0x00,0xbc,0x07,0x00,0xf8,0x3f,0xfe,0x0f,0xc0,0xff,
 0xff,0xff,0x01,0x00,0x00,0x00,0x00,0xb8,0x03,0x00,0xf0,0xff,
 0xff,0x07,0xc0,0xff,0xff,0xff,0x01,0x00,0x00,0x00,0x00,0xb0,
 0x01,0x00,0xe0,0xff,0xff,0x07,0xc0,0xff,0xff,0xff,0x01,0x00,
 0x00,0x00,0x00,0xb0,0x01,0x00,0xe0,0xff,0xff,0x01,0x80,0xff,
 0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x00,0xc0,0xff,
 0xff,0x01,0x00,0xfe,0xff,0x3f,0x00,0x00,0x00,0x00,0x00,0xa0,
 0x00,0x00,0x00,0xff,0x7f,0x00,0x00,0xf8,0xff,0x0f,0x00,0x00,
 0x00,0x00,0x00,0x40,0x00,0x00,0x00,0xfe,0x1f,0x00,0x00,0xe0,
 0xff,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,
 0x07,0x00,0x00,0x80,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3e,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};

#define plus_width 31
#define plus_height 32
static const unsigned char plus[] U8X8_PROGMEM = {
   0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xff, 0x7f, 0xff, 0x07, 0xf0, 0x7f,
   0xff, 0x01, 0xc0, 0x7f, 0x7f, 0x00, 0x00, 0x7f, 0x3f, 0x00, 0x00, 0x7e,
   0x1f, 0xf0, 0x07, 0x7c, 0x0f, 0xf0, 0x07, 0x78, 0x07, 0xf0, 0x07, 0x78,
   0x07, 0xf0, 0x07, 0x70, 0x03, 0xf0, 0x07, 0x70, 0x03, 0xf0, 0x07, 0x60,
   0x03, 0xf0, 0x07, 0x60, 0xe1, 0xff, 0xff, 0x43, 0xe1, 0xff, 0xff, 0x43,
   0xe1, 0xff, 0xff, 0x43, 0xe1, 0xff, 0xff, 0x43, 0xe1, 0xff, 0xff, 0x43,
   0xe1, 0xff, 0xff, 0x43, 0xe3, 0xff, 0xff, 0x63, 0x03, 0xf0, 0x07, 0x60,
   0x03, 0xf0, 0x07, 0x60, 0x07, 0xf0, 0x07, 0x70, 0x07, 0xf0, 0x07, 0x78,
   0x0f, 0xf0, 0x07, 0x78, 0x1f, 0xf0, 0x07, 0x7c, 0x3f, 0x00, 0x00, 0x7e,
   0x7f, 0x00, 0x00, 0x7f, 0xff, 0x00, 0xc0, 0x7f, 0xff, 0x03, 0xf0, 0x7f,
   0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xff, 0x7f };
